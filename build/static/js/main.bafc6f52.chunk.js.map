{"version":3,"sources":["components/view/home.module.scss","components/view/send.module.scss","components/view/login.module.scss","components/view/print.module.scss","Firebase.js","firebaseConfig.js","components/view/Send.js","components/view/Print.js","components/view/Home.js","components/view/Login.js","components/Auth.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","analytics","auth","languageCode","db","firestore","places","collection","storage","providerTwitter","TwitterAuthProvider","currentUser","Send","props","handleChangeFile","event","a","files","target","loadImage","maxWidth","canvas","image","toBlob","blob","setState","type","state","handleFormChange","inputValue","value","place","handleDescChange","description","handleUpload","tOrF","putPlace","document","getElementById","putDescription","putImage","homeState","this","className","sendStyle","container","onSubmit","preventDefault","uploadTask","ref","child","put","on","snapshot","progress","bytesTransferred","totalBytes","console","log","TaskState","PAUSED","RUNNING","error","getDownloadURL","then","add","created","FieldValue","serverTimestamp","user","uid","focus","catch","id","onChange","placeholder","htmlFor","putImageLabel","accept","submitLabel","submit","React","Component","Print","orderBy","onSnapshot","printPlaces","docChanges","forEach","change","li","createElement","p","img","div","doc","data","uri","src","code","textContent","appendChild","prepend","printStyle","title","Home","handleLogout","signOut","homeStyle","loadingContainer","variant","disabled","loading","Spinner","as","animation","role","aria-hidden","loadingLetter","header","Button","onClick","logout","hometState","Login","_isMounted","handleOnSubmitT","values","signInWithPopup","res","history","push","alert","handleOnSubmitA","signInAnonymously","componentDidMount","componentWillUnmount","LoginStyle","wrapper","twitter","icon","faTwitter","anonymous","withRouter","Auth","signinCheck","signedIn","onAuthStateChanged","children","to","App","exact","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.bafc6f52.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home_container__1nxKu\",\"logout\":\"home_logout__2rfpM\",\"header\":\"home_header__1JqHy\",\"loading\":\"home_loading__3xLzJ\",\"loadingLetter\":\"home_loadingLetter__fentm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"send_container__b8jLI\",\"putImage\":\"send_putImage__xhmR7\",\"submit\":\"send_submit__2DNck\",\"putPlace\":\"send_putPlace__u75bJ\",\"putDescription\":\"send_putDescription__28p2m\",\"putImageLabel\":\"send_putImageLabel__10g3a\",\"submitLabel\":\"send_submitLabel__dsfa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__11d0V\",\"twitter\":\"login_twitter__10FKh\",\"anonymous\":\"login_anonymous__1JTzJ\",\"header\":\"login_header__cqkmX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"print_container__1baIC\",\"printPlaces\":\"print_printPlaces__SypZh\",\"title\":\"print_title__1zc15\"};","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/analytics';\nimport 'firebase/storage';\nimport 'firebase/auth';\nimport {firebaseConfig} from \"./firebaseConfig\";\n\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\nfirebase.auth().languageCode = \"ja\";\n\nexport const db = firebase.firestore();\nexport const places = db.collection('places');\nexport const storage = firebase.storage();\nexport const auth = firebase.auth();\nexport const providerTwitter = new firebase.auth.TwitterAuthProvider();\nexport let user = firebase.auth().currentUser;\nexport default firebase;\n","export const firebaseConfig = {\n  apiKey: \"AIzaSyBVnd60ekX4LpYPppbu9qZFLfLh1OStHOM\",\n  authDomain: \"share-touring-plases.firebaseapp.com\",\n  projectId: \"share-touring-plases\",\n  storageBucket: \"share-touring-plases.appspot.com\",\n  messagingSenderId: \"177272219186\",\n  appId: \"1:177272219186:web:dfbd1c3ea441dbb1f5be2b\"\n};\n","import React from \"react\";\nimport firebase, { places, auth } from \"../../Firebase\";\nimport sendStyle from \"./send.module.scss\";\nimport loadImage from \"blueimp-load-image\";\n\nclass Send extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      place: \"\",\n      description: \"\",\n      image: null,\n      blob: null,\n    }\n  };\n\n  handleChangeFile = async (event) => {\n    const { files } = event.target;\n    const canvas = await loadImage(files[0], {\n      maxWidth: 450,\n      canvas: true,\n    });\n    canvas.image.toBlob((blob) => {\n      this.setState({blob: blob});\n    }, files[0].type);\n    if (this.state.blob != null) {\n\n    }\n  };\n\n  handleFormChange = (event) => {\n    const inputValue = event.target.value;\n    this.setState({place: inputValue});\n  };\n\n  handleDescChange = (event) => {\n    const inputValue = event.target.value;\n    this.setState({description: inputValue});\n  };\n\n  handleUpload = (tOrF) => {\n    return this.props.handleUpload(tOrF);\n  }\n\n  render() {\n    const putPlace = document.getElementById(\"putPlace\");\n    const putDescription = document.getElementById(\"putDescription\");\n    const putImage = document.getElementById(\"putImage\");\n    const homeState = this.props;\n\n    const onSubmit = (event) => {\n      event.preventDefault();\n      const doneUpload = () => this.handleUpload(false);\n      const startUpload = () => this.handleUpload(true);\n\n      if(putPlace.value === \"\" || putImage.value === \"\"){\n        putPlace.focus();\n        return;\n      };\n\n      startUpload();\n\n      let imageRef = firebase.storage().ref().child(`images/${this.state.place}_${this.state.description}.jpg`);\n      const uploadTask = imageRef.put(this.state.blob);\n\n      uploadTask.on('state_changed', snapshot =>{\n        const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        console.log('Upload is ' + progress + '% done');\n        switch (snapshot.state) {\n          case firebase.storage.TaskState.PAUSED:\n            console.log('Upload is paused');\n            break;\n          case firebase.storage.TaskState.RUNNING:\n            console.log('Upload is running');\n            break;\n\n          default:\n            break;\n        };\n      }, function (error) {\n        console.log(error);\n      }, function () {\n        doneUpload();\n        uploadTask.snapshot.ref.getDownloadURL().then(() => {\n          places.add({\n            place: putPlace.value,\n            description: putDescription.value,\n            created: firebase.firestore.FieldValue.serverTimestamp(),\n            user: auth.currentUser.uid\n          })\n          .then(() => {\n            putPlace.value = \"\";\n            putDescription.value = \"\";\n            putPlace.focus();\n          })\n          .catch(error => {\n            console.log(error);\n          })\n        });\n      });\n    };\n\n  return(\n      <div className={sendStyle.container}>\n        おすすめスポットを投稿\n        <form onSubmit={onSubmit}>\n          <textarea\n            id=\"putPlace\"\n            className={sendStyle.putPlace}\n            value={this.state.place}\n            onChange={(event) => this.handleFormChange(event)}\n            placeholder=\"地名を入力...\"\n          />\n          <br/>\n          <textarea\n            id=\"putDescription\"\n            className={sendStyle.putDescription}\n            value={this.state.description}\n            onChange={(event) => this.handleDescChange(event)}\n            placeholder=\"おすすめポイントを入力...\"\n          />\n          <br/>\n          <label htmlFor=\"putImage\" className={sendStyle.putImageLabel}>\n            {this.state.blob == null ? '画像を選択' : '画像を変更'}\n          </label>\n          <input\n            id=\"putImage\"\n            className={sendStyle.putImage}\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={(event) => this.handleChangeFile(event)}\n          />\n          <br/>\n          <label htmlFor=\"submit\" className={sendStyle.submitLabel}>\n            {homeState.progress ? 'Uploading...' : '投稿'}\n          </label>\n          <button id=\"submit\" className={sendStyle.submit}></button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Send;\n","import React from \"react\";\nimport {db, storage} from \"../../Firebase\";\nimport printStyle from \"./print.module.scss\";\n\nclass Print extends React.Component {\n  render() {\n    const collection = db.collection(\"places\");\n\n    collection.orderBy(\"created\").onSnapshot((snapshot) => {\n      const printPlaces = document.getElementById(\"printPlaces\");\n\n      snapshot.docChanges().forEach((change) => {\n        if(change.type === 'added'){\n          const li = document.createElement(\"li\");\n          const p = document.createElement(\"p\");\n          const img = document.createElement(\"img\");\n          const div = document.createElement(\"div\");\n          const storageRef = storage.ref();\n          const imageRef = storageRef.child(`images/${change.doc.data().place}_${change.doc.data().description}.jpg`);\n\n          imageRef.getDownloadURL()\n            .then((uri) => {\n              img.src = uri;\n            })\n            .catch((error) => {\n              switch (error.code) {\n                case 'storage/object-not-found':\n                  // File doesn't exist\n                  break;\n\n                case 'storage/unauthorized':\n                  // User doesn't have permission to access the object\n                  break;\n\n                case 'storage/canceled':\n                  // User canceled the upload\n                  break;\n\n                case 'storage/unknown':\n                  // Unknown error occurred, inspect the server response\n                  break;\n\n                default:\n                  break;\n              }\n            });\n\n            li.textContent = change.doc.data().place;\n            p.textContent = change.doc.data().description;\n\n            div.appendChild(img);\n            div.appendChild(li);\n            div.appendChild(p);\n            printPlaces.prepend(div);\n        };\n      });\n    });\n\n    return(\n      <div className={printStyle.container}>\n        <h2 className={printStyle.title}>ツーリングスポット一覧</h2>\n        <ul id=\"printPlaces\" className={printStyle.printPlaces}></ul>\n      </div>\n    );\n  };\n}\n\nexport default Print;\n","import React from 'react';\nimport firebase from '../../Firebase';\nimport { Button } from 'reactstrap';\nimport Send from './Send';\nimport Print from './Print';\nimport homeStyle from './home.module.scss';\nimport { Spinner } from 'react-bootstrap';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            progress: false,\n        }\n    }\n\n    handleLogout = () => {\n        firebase.auth().signOut();\n    }\n\n    handleUpload = (tOrF) => {\n        this.setState({ progress: tOrF });\n    }\n\n    render() {\n        if(!this.state.progress){\n            return (\n                <div className={homeStyle.container}>\n                    <h1 className={homeStyle.header}>\n                        Share Touring Spot\n                    </h1>\n                    <Button onClick={this.handleLogout} className={homeStyle.logout}>ログアウト</Button>\n                    <Send handleUpload={(tOrF) => { this.handleUpload(tOrF) }} hometState={this.state} />\n                    <Print />\n                </div>\n            );\n        }\n        else {\n            return (\n                <div className={homeStyle.loadingContainer}>\n                    <span variant=\"primary\" disabled className={homeStyle.loading}>\n                        <Spinner\n                        as=\"span\"\n                        animation=\"border\"\n                        role=\"status\"\n                        aria-hidden=\"false\"\n                        />\n                        <span className={homeStyle.loadingLetter}>Loading...</span>\n                    </span>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom'\nimport firebase, {providerTwitter} from '../../Firebase';\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport LoginStyle from './login.module.scss';\nimport homeStyle from './home.module.scss';\nimport { Spinner } from 'react-bootstrap';\n\n\nclass Login extends React.Component {\n\n    state = {\n        loading: false, //spinner制御用\n    }\n\n    _isMounted = false;\n\n    handleOnSubmitT = (values) => {\n        //spinner表示開始\n        if (this._isMounted) this.setState({ loading: true })\n        //サインイン（ログイン）処理\n        firebase.auth().signInWithPopup(providerTwitter)\n        .then(res => {\n            //正常終了時\n            this.props.history.push(\"/\");\n            if (this._isMounted) this.setState({ loading: false });\n        })\n        .catch(error => {\n            //異常終了時\n            if (this._isMounted) this.setState({ loading: false });\n            alert(error);\n        });\n\n    }\n\n    handleOnSubmitA = (values) => {\n        //spinner表示開始\n        if (this._isMounted) this.setState({ loading: true })\n        //サインイン（ログイン）処理\n        firebase.auth().signInAnonymously()\n        .then(res => {\n            //正常終了時\n            this.props.history.push(\"/\");\n            if (this._isMounted) this.setState({ loading: false });\n        })\n        .catch(error => {\n            //異常終了時\n            if (this._isMounted) this.setState({ loading: false });\n            alert(error);\n        });\n\n    }\n\n    componentDidMount = () => {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false;\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (\n                <div className={homeStyle.loadingContainer}>\n                    <span variant=\"primary\" disabled className={homeStyle.loading}>\n                        <Spinner\n                        as=\"span\"\n                        animation=\"border\"\n                        role=\"status\"\n                        aria-hidden=\"false\"\n                        />\n                        <span className={homeStyle.loadingLetter}>Loading...</span>\n                    </span>\n                </div>\n            );\n        }\n        else {\n            return (\n                <div className={LoginStyle.container}>\n                    <div className={LoginStyle.wrapper}>\n                        <h1 className={LoginStyle.header}>Share Touring Spot</h1>\n                        <button onClick={this.handleOnSubmitT} id = \"loginTwitter\" className={LoginStyle.twitter}><FontAwesomeIcon icon={faTwitter} /> Login with Twitter</button>\n                        <button onClick={this.handleOnSubmitA} className={LoginStyle.anonymous}>匿名ログイン</button>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nexport default withRouter(Login);\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport firebase from '../Firebase';\nimport { Spinner } from 'react-bootstrap';\nimport homeStyle from './view/home.module.scss';\n\nclass Auth extends React.Component {\n\n    state = {\n        signinCheck: false, //ログインチェックが完了してるか\n        signedIn: false, //ログインしてるか\n    }\n\n    _isMounted = false; //unmountを判断（エラー防止用）\n\n    componentDidMount = () => {\n        //mountされてる\n        this._isMounted = true;\n\n        //ログインしてるかどうかチェック\n        firebase.auth().onAuthStateChanged(user => {\n            if (user) {\n                //してる\n                if (this._isMounted) {\n                    this.setState({\n                        signinCheck: true,\n                        signedIn: true,\n                    });\n                }\n            } else {\n                //してない\n                if (this._isMounted) {\n                    this.setState({\n                        signinCheck: true,\n                        signedIn: false,\n                    });\n                }\n            }\n        })\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false;\n    }\n\n    render() {\n        //チェックが終わってないなら（ローディング表示）\n        if (!this.state.signinCheck) {\n            return (\n            <div>\n                <span variant=\"primary\" disabled className={homeStyle.loading}>\n                    <Spinner\n                    as=\"span\"\n                    animation=\"border\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                    />\n                    <span className={homeStyle.loadingLetter}>Loading...</span>\n                </span>\n            </div>\n            );\n        }\n\n        //チェックが終わりかつ\n        if (this.state.signedIn) {\n            //サインインしてるとき（そのまま表示）\n            return this.props.children;\n        } else {\n            //してないとき（ログイン画面にリダイレクト）\n            return <Redirect to=\"/login\" />\n        }\n    }\n}\n\nexport default Auth;\n","import React from 'react';\nimport './App.css';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n//view\nimport Home from './components/view/Home';\nimport Login from './components/view/Login';\n\nimport Auth from './components/Auth';\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Router>\n                <Switch>\n                    <Route exact path=\"/login\" component={Login} />\n                    {/* 以下認証のみ */}\n                    <Auth>\n                        <Switch>\n                            <Route exact path=\"/\" component={Home} />\n                            <Route render={() => <p>not found.</p>} />\n                        </Switch>\n                    </Auth>\n                </Switch>\n            </Router>\n        );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}