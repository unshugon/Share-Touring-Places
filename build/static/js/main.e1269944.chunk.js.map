{"version":3,"sources":["components/send.module.scss","components/Header.module.scss","components/print.module.scss","components/Header.js","components/Footer.js","Firebase.js","firebaseConfig.js","components/Print.js","components/Send.js","components/Auth.js","components/Main.js","components/App.js","index.js"],"names":["module","exports","Header","className","headerStyle","header","React","Component","Footer","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","analytics","auth","languageCode","db","firestore","places","collection","storage","providerTwitter","TwitterAuthProvider","Print","orderBy","onSnapshot","snapshot","printPlaces","document","getElementById","docChanges","forEach","change","type","li","createElement","img","ref","child","doc","data","place","getDownloadURL","then","url","src","catch","error","code","textContent","appendChild","printStyle","title","id","Send","props","state","image","progress","putPlace","putImage","onSubmit","e","preventDefault","value","add","created","FieldValue","serverTimestamp","focus","console","log","put","this","onChange","event","inputValue","target","setState","handleFormChange","htmlFor","sendStyle","selectImage","inputImage","files","handleImage","submit","Auth","handleLogin","signInWithPopup","res","handleLogout","signOut","onClick","Main","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.e1269944.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"putImage\":\"send_putImage__26AlY\",\"selectImage\":\"send_selectImage__1yWu2\",\"submit\":\"send_submit__1Csjy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2XAj3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"print_title__32tcE\"};","import React from \"react\";\nimport headerStyle from \"./Header.module.scss\";\n\nclass Header extends React.Component {\n  render() {\n    return (\n    <h1 className={headerStyle.header}>Share Touring Places</h1>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\n\nclass Footer extends React.Component {\n  render() {\n    return(\n      <div>\n        footer\n      </div>\n    );\n  };\n}\n\nexport default Footer;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/analytics';\nimport 'firebase/storage';\nimport 'firebase/auth';\nimport {firebaseConfig} from \"./firebaseConfig\";\n\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\nfirebase.auth().languageCode = \"it\";\n\nexport const db = firebase.firestore();\nexport const places = db.collection('places');\nexport const storage = firebase.storage();\nexport const providerTwitter = firebase.auth.TwitterAuthProvider();\nexport default firebase;\n","export const firebaseConfig = {\n  apiKey: \"AIzaSyBVnd60ekX4LpYPppbu9qZFLfLh1OStHOM\",\n  authDomain: \"share-touring-plases.firebaseapp.com\",\n  projectId: \"share-touring-plases\",\n  storageBucket: \"share-touring-plases.appspot.com\",\n  messagingSenderId: \"177272219186\",\n  appId: \"1:177272219186:web:dfbd1c3ea441dbb1f5be2b\"\n};\n","import React from \"react\";\nimport {db, storage} from \"../../src/Firebase\";\nimport printStyle from \"./print.module.scss\";\n\nclass Print extends React.Component {\n  render() {\n    const collection = db.collection(\"places\");\n\n    collection.orderBy(\"created\").onSnapshot((snapshot) => {\n      const printPlaces = document.getElementById(\"printPlaces\");\n\n      snapshot.docChanges().forEach((change) => {\n        if(change.type === 'added'){\n          const li = document.createElement(\"li\");\n          const img = document.createElement(\"img\");\n          const storageRef = storage.ref();\n          const imageRef = storageRef.child(`images/${change.doc.data().place}.png`);\n\n          imageRef.getDownloadURL()\n            .then((url) => {\n              img.src = url;\n            })\n            .catch((error) => {\n              switch (error.code) {\n                case 'storage/object-not-found':\n                  // File doesn't exist\n                  break;\n\n                case 'storage/unauthorized':\n                  // User doesn't have permission to access the object\n                  break;\n\n                case 'storage/canceled':\n                  // User canceled the upload\n                  break;\n\n                case 'storage/unknown':\n                  // Unknown error occurred, inspect the server response\n                  break;\n\n                default:\n                  break;\n              }\n            });\n\n            li.textContent = change.doc.data().place;\n            printPlaces.appendChild(li);\n            printPlaces.appendChild(img);\n        };\n      });\n    });\n\n    return(\n      <div>\n        <h2 className={printStyle.title}>ツーリングスポット一覧</h2>\n        <ul id=\"printPlaces\"></ul>\n      </div>\n    );\n  };\n}\n\nexport default Print;\n","import React from \"react\";\nimport firebase, {places} from \"../../src/Firebase\";\nimport sendStyle from \"./send.module.scss\";\n\nclass Send extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      place: \"\", \n      image: \"\", \n      progress: \"\"\n    }\n  };\n\n  render() {\n    const handleFormChange = (event) => {\n      const inputValue = event.target.value;\n      this.setState({place: inputValue});\n    };\n\n    const handleImage = (event) => {\n      const inputImage = event.target.files[0];\n      this.setState({image: inputImage});\n    };\n\n    const putPlace = document.getElementById(\"putPlace\");\n    const putImage = document.getElementById(\"putImage\");\n    \n    const onSubmit = (e) => {\n      e.preventDefault();\n\n      if(putPlace.value === \"\" || putImage.value === \"\"){\n        putPlace.focus();\n        return;\n      };\n\n      places.add({\n        place: putPlace.value, \n        created: firebase.firestore.FieldValue.serverTimestamp()\n      })\n      .then(doc => {\n        putPlace.value = \"\";\n        putPlace.focus();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n      let imageRef = firebase.storage().ref().child(`images/${this.state.place}.png`);\n      imageRef.put(this.state.image);\n    };\n  return(\n      <div>\n        位置情報\n        <form onSubmit={onSubmit}>\n          <textarea\n          id=\"putPlace\"\n          value={this.state.place}\n          onChange={(event) => {handleFormChange(event)}}\n          />\n          <label htmlFor=\"putImage\" className={sendStyle.selectImage}>\n            <br/>\n            画像を選択\n            <br/>\n            <input\n            id=\"putImage\"\n            className={sendStyle.putImage}\n            type=\"file\"\n            onChange={(event) => handleImage(event)}\n            />\n          </label>\n          <button className={sendStyle.submit}>送信</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Send;\n","import React from 'react';\nimport firebase, {providerTwitter} from \"../Firebase\";\n\nclass Auth extends React.Component{\n  handleLogin = () => {\n    firebase.auth().signInWithPopup(providerTwitter)\n    .then(res => {\n      console.log(res);\n      //TODO: ex. storeに送信, DB保存,...\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  handleLogout = () => {\n    firebase.auth().signOut().then(() => {\n      console.log(\"Sucsess sign in\")\n    }).catch((error) => {\n      console.log(error);\n    });\n  };\n\n  render(){\n    return(\n      <div>\n        <button onClick={this.handleLogin}>Login</button>\n        <button onClick={this.handleLogout}>Logout</button>        \n      </div>\n    );\n  }\n};\n\nexport default Auth;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Print from \"./Print\";\nimport Send from \"./Send\";\nimport Auth from\"./Auth\";\n\nclass Main extends React.Component {\n  render() {\n    return(\n      <div>\n        <Header />\n        <Auth />\n        <Send />\n        <Print />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React from \"react\";\nimport Main from \"./Main\";\nimport appStyle from \"./app.module.scss\";\n\nclass App extends React.Component {\n  render() {\n    return <Main />;\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}