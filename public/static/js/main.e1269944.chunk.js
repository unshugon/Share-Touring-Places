(this["webpackJsonpsharetouring-places"]=this["webpackJsonpsharetouring-places"]||[]).push([[0],{14:function(e,t,n){e.exports={putImage:"send_putImage__26AlY",selectImage:"send_selectImage__1yWu2",submit:"send_submit__1Csjy"}},18:function(e,t,n){e.exports={header:"Header_header__2XAj3"}},20:function(e,t,n){e.exports={title:"print_title__32tcE"}},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(17),o=n.n(r),i=n(8),s=n(9),u=n(11),l=n(10),p=n(18),d=n.n(p),j=n(3),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)("h1",{className:d.a.header,children:"Share Touring Places"})}}]),n}(c.a.Component),b=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:"footer"})}}]),n}(c.a.Component),f=n(13);n(32),n(31),n(33),n(27);f.a.initializeApp({apiKey:"AIzaSyBVnd60ekX4LpYPppbu9qZFLfLh1OStHOM",authDomain:"share-touring-plases.firebaseapp.com",projectId:"share-touring-plases",storageBucket:"share-touring-plases.appspot.com",messagingSenderId:"177272219186",appId:"1:177272219186:web:dfbd1c3ea441dbb1f5be2b"}),f.a.analytics(),f.a.auth().languageCode="it";var g=f.a.firestore(),O=g.collection("places"),m=f.a.storage(),v=f.a.auth.TwitterAuthProvider(),x=f.a,y=n(20),I=n.n(y),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return g.collection("places").orderBy("created").onSnapshot((function(e){var t=document.getElementById("printPlaces");e.docChanges().forEach((function(e){if("added"===e.type){var n=document.createElement("li"),a=document.createElement("img");m.ref().child("images/".concat(e.doc.data().place,".png")).getDownloadURL().then((function(e){a.src=e})).catch((function(e){e.code})),n.textContent=e.doc.data().place,t.appendChild(n),t.appendChild(a)}}))})),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:I.a.title,children:"\u30c4\u30fc\u30ea\u30f3\u30b0\u30b9\u30dd\u30c3\u30c8\u4e00\u89a7"}),Object(j.jsx)("ul",{id:"printPlaces"})]})}}]),n}(c.a.Component),_=n(14),k=n.n(_),L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={place:"",image:"",progress:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=document.getElementById("putPlace"),n=document.getElementById("putImage");return Object(j.jsxs)("div",{children:["\u4f4d\u7f6e\u60c5\u5831",Object(j.jsxs)("form",{onSubmit:function(a){(a.preventDefault(),""!==t.value&&""!==n.value)?(O.add({place:t.value,created:x.firestore.FieldValue.serverTimestamp()}).then((function(e){t.value="",t.focus()})).catch((function(e){console.log(e)})),x.storage().ref().child("images/".concat(e.state.place,".png")).put(e.state.image)):t.focus()},children:[Object(j.jsx)("textarea",{id:"putPlace",value:this.state.place,onChange:function(t){!function(t){var n=t.target.value;e.setState({place:n})}(t)}}),Object(j.jsxs)("label",{htmlFor:"putImage",className:k.a.selectImage,children:[Object(j.jsx)("br",{}),"\u753b\u50cf\u3092\u9078\u629e",Object(j.jsx)("br",{}),Object(j.jsx)("input",{id:"putImage",className:k.a.putImage,type:"file",onChange:function(t){return function(t){var n=t.target.files[0];e.setState({image:n})}(t)}})]}),Object(j.jsx)("button",{className:k.a.submit,children:"\u9001\u4fe1"})]})]})}}]),n}(c.a.Component),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleLogin=function(){x.auth().signInWithPopup(v).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.handleLogout=function(){x.auth().signOut().then((function(){console.log("Sucsess sign in")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:this.handleLogin,children:"Login"}),Object(j.jsx)("button",{onClick:this.handleLogout,children:"Logout"})]})}}]),n}(c.a.Component),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{}),Object(j.jsx)(S,{}),Object(j.jsx)(L,{}),Object(j.jsx)(C,{}),Object(j.jsx)(b,{})]})}}]),n}(c.a.Component),P=(n(29),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)(E,{})}}]),n}(c.a.Component));o.a.render(Object(j.jsx)(P,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.e1269944.chunk.js.map